# ============================================================================
# Cite-Agent Environment Configuration
# Copy this file to .env and fill in your values
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
POSTGRES_PASSWORD=change_me_in_production_use_strong_password
DATABASE_URL=postgresql://cite_agent:${POSTGRES_PASSWORD}@postgres:5432/cite_agent

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379/0

# ----------------------------------------------------------------------------
# API Keys - Get these from respective providers
# ----------------------------------------------------------------------------

# Groq API Key (Primary LLM provider)
# Get from: https://console.groq.com/keys
GROQ_API_KEY=gsk_your_key_here

# Cerebras API Key (Fallback LLM provider)
# Get from: https://inference.cerebras.ai
CEREBRAS_API_KEY=your_cerebras_key_here

# OpenAI API Key (Optional fallback)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_key_here

# Mistral API Key (Optional)
MISTRAL_API_KEY=your_mistral_key_here

# Cohere API Key (Optional)
COHERE_API_KEY=your_cohere_key_here

# ----------------------------------------------------------------------------
# External Services
# ----------------------------------------------------------------------------

# Archive API (Academic papers)
ARCHIVE_API_URL=https://api.semanticscholar.org

# FinSight API (Financial data)
FINSIGHT_API_URL=https://financialmodelingprep.com/api
FINSIGHT_API_KEY=your_finsight_key_here

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------

# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (0=off, 1=on)
DEBUG=0

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Verbose planning (show internal planning JSON) - usually keep OFF
NOCTURNAL_VERBOSE_PLANNING=0

# ----------------------------------------------------------------------------
# Security & Authentication
# ----------------------------------------------------------------------------

# JWT Secret for session tokens (use long random string in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=change_me_in_production_use_long_random_string_generate_with_secrets_module

# Session expiration (days)
JWT_EXPIRATION_DAYS=30

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ----------------------------------------------------------------------------
# Rate Limiting & Quotas
# ----------------------------------------------------------------------------

# Daily query limit per user
NOCTURNAL_QUERY_LIMIT=25

# Per-user token limit
GROQ_PER_USER_TOKENS=50000

# ----------------------------------------------------------------------------
# Session Memory Management
# ----------------------------------------------------------------------------

# Max messages in memory before archiving
CITE_AGENT_MAX_MESSAGES_IN_MEMORY=50

# Archive when exceeding this threshold
CITE_AGENT_ARCHIVE_THRESHOLD=100

# Archive after this duration (hours)
CITE_AGENT_ARCHIVE_HOURS=1.0

# Keep this many recent messages after archival
CITE_AGENT_RECENT_CONTEXT_WINDOW=10

# ----------------------------------------------------------------------------
# Retry & Timeout Configuration
# ----------------------------------------------------------------------------

# Max retry attempts
CITE_AGENT_MAX_RETRY_ATTEMPTS=3

# Initial retry delay (seconds)
CITE_AGENT_RETRY_DELAY=1.0

# Max retry delay (seconds)
CITE_AGENT_MAX_RETRY_DELAY=30.0

# Request timeout (seconds)
CITE_AGENT_REQUEST_TIMEOUT=60

# ----------------------------------------------------------------------------
# Monitoring & Grafana
# ----------------------------------------------------------------------------

# Grafana admin credentials
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Prometheus retention (default: 15 days)
PROMETHEUS_RETENTION_DAYS=15

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable auto-updates check
AUTO_UPDATE_ENABLED=true

# ----------------------------------------------------------------------------
# Deployment (Production Only)
# ----------------------------------------------------------------------------

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# APM/Tracing endpoint (optional)
APM_SERVER_URL=

# Email for alerts (optional)
ALERT_EMAIL=
